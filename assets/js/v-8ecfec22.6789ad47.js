"use strict";(self.webpackChunknumberninecms_docs=self.webpackChunknumberninecms_docs||[]).push([[52],{3813:(e,t,n)=>{n.r(t),n.d(t,{data:()=>a});const a={key:"v-8ecfec22",path:"/developers/reference/events.html",title:"Events",lang:"en-US",frontmatter:{prev:"/developers/howto/user-management/create-a-capability.md"},excerpt:"",headers:[{level:2,title:"Theme events",slug:"theme-events",children:[{level:3,title:"HeadEvent",slug:"headevent",children:[]},{level:3,title:"HeadTitleEvent",slug:"headtitleevent",children:[]},{level:3,title:"HeadStylesheetsEvent",slug:"headstylesheetsevent",children:[]},{level:3,title:"HeadThemeCustomStylesEvent",slug:"headthemecustomstylesevent",children:[]},{level:3,title:"HeaderScriptsEvent",slug:"headerscriptsevent",children:[]},{level:3,title:"FooterEvent",slug:"footerevent",children:[]}]},{level:2,title:"Form events",slug:"form-events",children:[{level:3,title:"LoginPathsEvent",slug:"loginpathsevent",children:[]},{level:3,title:"RegistrationFormBuilderEvent",slug:"registrationformbuilderevent",children:[]},{level:3,title:"RegistrationFormSuccessEvent",slug:"registrationformsuccessevent",children:[]},{level:3,title:"HiddenCustomFieldsEvent",slug:"hiddencustomfieldsevent",children:[]}]},{level:2,title:"Registration events",slug:"registration-events",children:[{level:3,title:"AreasRegistrationEvent",slug:"areasregistrationevent",children:[]},{level:3,title:"CapabilitiesListEvent",slug:"capabilitieslistevent",children:[]},{level:3,title:"ContentTypeRegistrationEvent",slug:"contenttyperegistrationevent",children:[]},{level:3,title:"ImageSizesEvent",slug:"imagesizesevent",children:[]},{level:3,title:"RouteRegistrationEvent",slug:"routeregistrationevent",children:[]}]},{level:2,title:"General events",slug:"general-events",children:[{level:3,title:"ComponentProcessParametersEvent",slug:"componentprocessparametersevent",children:[]},{level:3,title:"ContentEntityShowForwardEvent",slug:"contententityshowforwardevent",children:[]},{level:3,title:"CurrentContentEntityEvent",slug:"currentcontententityevent",children:[]},{level:3,title:"CurrentRequestTermEvent",slug:"currentrequesttermevent",children:[]},{level:3,title:"MainLoopQueryEvent",slug:"mainloopqueryevent",children:[]},{level:3,title:"PaginatorEvent",slug:"paginatorevent",children:[]},{level:3,title:"ShortcodeProcessParametersEvent",slug:"shortcodeprocessparametersevent",children:[]},{level:3,title:"TemplateToRenderEvent",slug:"templatetorenderevent",children:[]},{level:3,title:"UpdateContentEntityEvent",slug:"updatecontententityevent",children:[]}]}],filePathRelative:"developers/reference/events.md",git:{updatedTime:1627740369e3}}},9659:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var a=n(6252);const s=(0,a.uE)('<h1 id="events" tabindex="-1"><a class="header-anchor" href="#events" aria-hidden="true">#</a> Events</h1><p>NumberNine dispatches lots of events to let you hook into the default behavior and modify it to your needs.</p><p>Events are objects containing data that you can change.</p><p>To intercept these events, simply create a service implementing Symfony&#39;s <code>EventSubscriberInterface</code>.</p><p>As an example:</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\\</span>EventSubscriber</span><span class="token punctuation">;</span>\n\n<span class="token keyword">use</span> <span class="token package">NumberNine<span class="token punctuation">\\</span>Event<span class="token punctuation">\\</span>HeadEvent</span><span class="token punctuation">;</span>\n<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\\</span>Component<span class="token punctuation">\\</span>EventDispatcher<span class="token punctuation">\\</span>EventSubscriberInterface</span><span class="token punctuation">;</span>\n\n<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">HeadEventSubscriber</span> <span class="token keyword">implements</span> <span class="token class-name">EventSubscriberInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">getSubscribedEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">[</span>\n            <span class="token class-name static-context">HeadEvent</span><span class="token operator">::</span><span class="token keyword">class</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;alterHeadEvent&#39;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">alterHeadEvent</span><span class="token punctuation">(</span><span class="token class-name type-declaration">HeadEvent</span> <span class="token variable">$event</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>\n    <span class="token punctuation">{</span>\n        <span class="token comment">// do what you need here</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="theme-events" tabindex="-1"><a class="header-anchor" href="#theme-events" aria-hidden="true">#</a> Theme events</h2><h3 id="headevent" tabindex="-1"><a class="header-anchor" href="#headevent" aria-hidden="true">#</a> HeadEvent</h3><p><code>HeadEvent</code> is dispatched when the theme calls the Twig function <code>N9_head()</code>.</p><p>Although you could directly modify <code>base.html.twig</code> to your needs, it defeats extensibility. Thanks to this event, plugins or themes can add whatever they need in the head section of the page.</p><p>NumberNine itself hooks into <code>HeadEvent</code> and dispatches other events, as seen below.</p><h3 id="headtitleevent" tabindex="-1"><a class="header-anchor" href="#headtitleevent" aria-hidden="true">#</a> HeadTitleEvent</h3><p><code>HeadTitleEvent</code> contains the title of the page.</p><h3 id="headstylesheetsevent" tabindex="-1"><a class="header-anchor" href="#headstylesheetsevent" aria-hidden="true">#</a> HeadStylesheetsEvent</h3><p><code>HeadStylesheetsEvent</code> contains a list of rendered HTML style tags.</p><h3 id="headthemecustomstylesevent" tabindex="-1"><a class="header-anchor" href="#headthemecustomstylesevent" aria-hidden="true">#</a> HeadThemeCustomStylesEvent</h3><p><code>HeadThemeCustomStylesEvent</code> contains a CSS dynamic sheet that is rendered after all included sheets. This is useful to let the user override some properties.</p><h3 id="headerscriptsevent" tabindex="-1"><a class="header-anchor" href="#headerscriptsevent" aria-hidden="true">#</a> HeaderScriptsEvent</h3><p><code>HeadThemeCustomStylesEvent</code> contains a list of rendered HTML script tags.</p><h3 id="footerevent" tabindex="-1"><a class="header-anchor" href="#footerevent" aria-hidden="true">#</a> FooterEvent</h3><p><code>FooterEvent</code> is dispatched when the theme calls the Twig function <code>N9_footer()</code>.</p><h2 id="form-events" tabindex="-1"><a class="header-anchor" href="#form-events" aria-hidden="true">#</a> Form events</h2><h3 id="loginpathsevent" tabindex="-1"><a class="header-anchor" href="#loginpathsevent" aria-hidden="true">#</a> LoginPathsEvent</h3><p><code>LoginPathsEvent</code> contains the list of pages that host a login form. This is used by the login authenticator to know if it&#39;s supposed to handle login on your page.</p><h3 id="registrationformbuilderevent" tabindex="-1"><a class="header-anchor" href="#registrationformbuilderevent" aria-hidden="true">#</a> RegistrationFormBuilderEvent</h3><p><code>RegistrationFormBuilderEvent</code> contains the registration form builder so you can modify the registration behavior.</p><h3 id="registrationformsuccessevent" tabindex="-1"><a class="header-anchor" href="#registrationformsuccessevent" aria-hidden="true">#</a> RegistrationFormSuccessEvent</h3><p><code>RegistrationFormSuccessEvent</code> is dispatched when the registration is successful and the user logged in. NumberNine&#39;s default behavior is to listen to this even then notify the user by email.</p><h3 id="hiddencustomfieldsevent" tabindex="-1"><a class="header-anchor" href="#hiddencustomfieldsevent" aria-hidden="true">#</a> HiddenCustomFieldsEvent</h3><p><code>HiddenCustomFieldsEvent</code> allows you to hide custom fields in the content entity edition form. It&#39;s useful if you store some data in custom fields that you don&#39;t want the user to know about, or if these custom fields have a dedicated panel or card. As an example, a page template is stored as <code>page_template</code> custom field, but shown to the user as a card with a <code>select</code> form element. As the user should not have access to this custom field to modify it freely, it&#39;s hidden using this event.</p><h2 id="registration-events" tabindex="-1"><a class="header-anchor" href="#registration-events" aria-hidden="true">#</a> Registration events</h2><h3 id="areasregistrationevent" tabindex="-1"><a class="header-anchor" href="#areasregistrationevent" aria-hidden="true">#</a> AreasRegistrationEvent</h3>',32),r=(0,a.Wm)("code",null,"AreasRegistrationEvent",-1),i=(0,a.Uk)(" lets you add areas to your theme. If you want to know more about areas, please "),o=(0,a.Uk)("read this page"),l=(0,a.Uk)("."),d=(0,a.Wm)("h3",{id:"capabilitieslistevent",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#capabilitieslistevent","aria-hidden":"true"},"#"),(0,a.Uk)(" CapabilitiesListEvent")],-1),c=(0,a.Wm)("code",null,"CapabilitiesListEvent",-1),h=(0,a.Uk)(" contains the full list of capabilities. To add a new capability, follow "),p=(0,a.Uk)("this guide"),u=(0,a.Uk)("."),v=(0,a.Wm)("h3",{id:"contenttyperegistrationevent",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#contenttyperegistrationevent","aria-hidden":"true"},"#"),(0,a.Uk)(" ContentTypeRegistrationEvent")],-1),m=(0,a.Wm)("code",null,"ContentTypeRegistrationEvent",-1),g=(0,a.Uk)(" contains content types that will be used in your app. To register new content types, follow "),f=(0,a.Uk)("this guide"),b=(0,a.Uk)("."),y=(0,a.uE)('<h3 id="imagesizesevent" tabindex="-1"><a class="header-anchor" href="#imagesizesevent" aria-hidden="true">#</a> ImageSizesEvent</h3><p><code>ImageSizesEvent</code> contains the list of the thumbnails sizes that need to be generated. You can add new sizes and they will be automatically generated when you regenerate the thumbnails.</p><h3 id="routeregistrationevent" tabindex="-1"><a class="header-anchor" href="#routeregistrationevent" aria-hidden="true">#</a> RouteRegistrationEvent</h3><p><code>RouteRegistrationEvent</code> contains the list of registered routes. Listening to this event enables you to create dynamic routes.</p><h2 id="general-events" tabindex="-1"><a class="header-anchor" href="#general-events" aria-hidden="true">#</a> General events</h2><h3 id="componentprocessparametersevent" tabindex="-1"><a class="header-anchor" href="#componentprocessparametersevent" aria-hidden="true">#</a> ComponentProcessParametersEvent</h3>',6),k=(0,a.Wm)("code",null,"ComponentProcessParametersEvent",-1),E=(0,a.Uk)(" is useful if you need to alter the content of a "),w=(0,a.Uk)("component"),x=(0,a.Uk)("'s parameters just before it's get rendered with Twig."),T=(0,a.uE)('<h3 id="contententityshowforwardevent" tabindex="-1"><a class="header-anchor" href="#contententityshowforwardevent" aria-hidden="true">#</a> ContentEntityShowForwardEvent</h3><p><code>ContentEntityShowForwardEvent</code> contains the response that should render the current entity. You can alter this response by forwarding it to another controller. Use <code>ForwardRequestTrait</code> to ease forwarding.</p><h3 id="currentcontententityevent" tabindex="-1"><a class="header-anchor" href="#currentcontententityevent" aria-hidden="true">#</a> CurrentContentEntityEvent</h3><p><code>CurrentContentEntityEvent</code> is dispatched before the rendering of the page. In a service or shortcode, listen to this event to know what you&#39;re dealing with.</p><h3 id="currentrequesttermevent" tabindex="-1"><a class="header-anchor" href="#currentrequesttermevent" aria-hidden="true">#</a> CurrentRequestTermEvent</h3><p><code>CurrentRequestTermEvent</code> is dispatched on term index pages before the rendering of the page. In a service or shortcode, listen to this event to know what you&#39;re dealing with.</p><h3 id="mainloopqueryevent" tabindex="-1"><a class="header-anchor" href="#mainloopqueryevent" aria-hidden="true">#</a> MainLoopQueryEvent</h3><p><code>MainLoopQueryEvent</code> contains the query builder of the current page query for a given content type. Listen to this event if you need to add or alter criterias.</p><h3 id="paginatorevent" tabindex="-1"><a class="header-anchor" href="#paginatorevent" aria-hidden="true">#</a> PaginatorEvent</h3><p><code>PaginatorEvent</code> contains the paginator of the current page. Useful if you need it, for example in a shortcode.</p><h3 id="shortcodeprocessparametersevent" tabindex="-1"><a class="header-anchor" href="#shortcodeprocessparametersevent" aria-hidden="true">#</a> ShortcodeProcessParametersEvent</h3>',11),C=(0,a.Wm)("code",null,"ShortcodeProcessParametersEvent",-1),S=(0,a.Uk)(" is useful if you need to alter the content of a "),R=(0,a.Uk)("shortcode"),U=(0,a.Uk)("'s parameters just before it's get rendered with Twig."),H=(0,a.Wm)("h3",{id:"templatetorenderevent",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#templatetorenderevent","aria-hidden":"true"},"#"),(0,a.Uk)(" TemplateToRenderEvent")],-1),W=(0,a.Wm)("p",null,[(0,a.Wm)("code",null,"TemplateToRenderEvent"),(0,a.Uk)(" contains the current Twig template about to be rendered. You can change the template to render depending on your needs. As an example, NumberNine alters the template if it detects that the "),(0,a.Wm)("code",null,"My account"),(0,a.Uk)(" is about to be rendered.")],-1),P=(0,a.Wm)("h3",{id:"updatecontententityevent",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#updatecontententityevent","aria-hidden":"true"},"#"),(0,a.Uk)(" UpdateContentEntityEvent")],-1),F=(0,a.Wm)("p",null,[(0,a.Wm)("code",null,"UpdateContentEntityEvent"),(0,a.Uk)(" is dispatched just before a content entity is about to be saved in database from the admin panel. Use it to apply extra modifications.")],-1),L={render:function(e,t){const n=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[s,(0,a.Wm)("p",null,[r,i,(0,a.Wm)(n,{to:"/developers/architecture/theming.html#areas"},{default:(0,a.w5)((()=>[o])),_:1}),l]),d,(0,a.Wm)("p",null,[c,h,(0,a.Wm)(n,{to:"/developers/howto/user-management/create-a-capability.html"},{default:(0,a.w5)((()=>[p])),_:1}),u]),v,(0,a.Wm)("p",null,[m,g,(0,a.Wm)(n,{to:"/developers/howto/content/create-a-content-type.html"},{default:(0,a.w5)((()=>[f])),_:1}),b]),y,(0,a.Wm)("p",null,[k,E,(0,a.Wm)(n,{to:"/developers/architecture/theming.html#components"},{default:(0,a.w5)((()=>[w])),_:1}),x]),T,(0,a.Wm)("p",null,[C,S,(0,a.Wm)(n,{to:"/developers/architecture/theming.html#shortcodes"},{default:(0,a.w5)((()=>[R])),_:1}),U]),H,W,P,F],64)}}}}]);