{"hash":"45bb81d30228530762630238fbe5589ce7b205d7","data":{"markdownPage":{"id":"96f82cbdbd79f1b633b5d82fbdacd8ac","title":"Create a capability","description":"Create a capability","path":"/docs/howto/user-management/create-a-capability/","timeToRead":1,"content":"<h1 id=\"create-a-capability\"><a href=\"#create-a-capability\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Create a capability</h1>\n<p>Create a class in <code>src/EventSubscriber/CapabilitiesListEventSubscriber.php</code> file.</p>\n<pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>EventSubscriber</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">NumberNine<span class=\"token punctuation\">\\</span>Event<span class=\"token punctuation\">\\</span>CapabilitiesListEvent</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Symfony<span class=\"token punctuation\">\\</span>Component<span class=\"token punctuation\">\\</span>EventDispatcher<span class=\"token punctuation\">\\</span>EventSubscriberInterface</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CapabilitiesListEventSubscriber</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">EventSubscriberInterface</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getSubscribedEvents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">array</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token scope\">CapabilitiesListEvent<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'addCapabilities'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">addCapabilities</span><span class=\"token punctuation\">(</span>CapabilitiesListEvent <span class=\"token variable\">$event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$event</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addCapability</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'my_first_custom_capability'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$event</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addCapability</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'another_custom_capability'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Assign it to the roles you want. Then in your controller:</p>\n<pre class=\"language-php\"><code class=\"language-php\"><span class=\"token this\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">denyAccessUnlessGranted</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'my_first_custom_capability'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n","sidebar":"docs","next":"/docs/reference/events/","prev":"/docs/howto/content/create-a-content-type/","headings":[{"depth":1,"value":"Create a capability","anchor":"#create-a-capability"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/docs/howto/user-management/create-a-capability/","title":"Create a capability"}},{"node":{"path":"/docs/howto/theming/create-a-shortcode/","title":"Create a shortcode"}},{"node":{"path":"/docs/howto/theming/create-a-component/","title":"Create a component"}},{"node":{"path":"/docs/howto/content/create-a-content-type/","title":"Create a content type"}},{"node":{"path":"/docs/reference/events/","title":"Events"}},{"node":{"path":"/docs/architecture/user-management/","title":"User management"}},{"node":{"path":"/docs/architecture/theming/","title":"Theming"}},{"node":{"path":"/docs/architecture/symfony/","title":"Symfony 5.1+"}},{"node":{"path":"/docs/architecture/content-types/","title":"Content types"}},{"node":{"path":"/docs/screenshots/","title":"Screenshots"}},{"node":{"path":"/docs/installation/","title":"Installation"}},{"node":{"path":"/docs/","title":"Introduction"}},{"node":{"path":"/docs/first-steps/","title":"First steps"}},{"node":{"path":"/docs/docker/","title":"Docker services"}}]}},"context":{}}